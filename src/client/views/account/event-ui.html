<div class="ui-view">
    <div class="form-container">
        <form name="eventForm" ng-submit="insertEvent(event)">
            <div class="form-input">Title:<br><input type="text" required placeholder="Title"
                                                     ng-model="event.title"></div>
            
            <div class="form-input">Description:<br><input type="text" placeholder="Description"
                                                       ng-model="event.description"></div>
            
            <div class="form-input"> Date:<br><input type="text" required
                                                     ng-pattern="/^(March \d{2}, 2016\s?)*$/"
                                                     ng-focus="ui.dateFormat= 'March ##, 2016'"
                                                     ng-blur="ui.dateFormat= ''" placeholder="Date"
                                                     ng-model="event.date">{{ui.dateFormat}}</div>
            
            <div class="form-input">Date Added:<br><input type="text" required
                                                          ng-pattern="/^\d{4}-\d{1,2}-\d{1,2}$/"
                                                          ng-focus="ui.addedFormat= 'YYYY-MM-DD'"
                                                          ng-blur="ui.addedFormat= ''" placeholder="Date Added"
                                                          ng-model="event.dateAdded">{{ui.addedFormat}}
            </div>
            
            <div class="form-input">Image:<br><input type="text"
                                                     ng-focus="ui.imageFormat= '/images/screens/<imagetitle>.png'"
                                                     ng-blur="ui.imageFormat= ''" placeholder="Image"
                                                     ng-init="event.image ='/images/screens/<imagetitle>.png'"
                                                     ng-model="event.image">{{ui.imageFormat}}</div>
            
            <div class="form-input">Link:<br><input type="text" required placeholder="Link" ng-model="event.link"></div>
            <div class="checkbox-input">Free Beer?<input type="checkbox" ng-init="event.beer=false" ng-model="event.beer"> Free Food?<input type="checkbox" ng-init="event.food=false" ng-model="event.food"></div>
            <button type="submit" ng-disabled="eventForm.$invalid">Submit</button>
                <div class="form-image" ng-show="eventForm.$invalid">
                    <img src="/images/xmark.png"></div>
                <div class="form-image" ng-show="eventForm.$valid">
                    <img src="/images/checkmark.png"></div><div ng-show="eventForm.$valid && eventForm.$submitted">{{ui.datNew.title}} Added Successfully!</div>
        </form>
        <!--<div ng-init="submitted=false;"></div>-->

        <pre>event = {{event | json}}</pre>
        <pre>Just Added = {{ui.datNew | json}}</pre>


    </div>

</div>
<!--<input type="file" id="file_input"/>-->
<!--<p id="status">Please select a file</p>-->
<!--<img id="preview" src="/images/default.png" />-->

<!--<form ng-submit="uploadPhoto(photo)">-->
<!--<input type="hidden" id="avatar_url" name="avatar_url" ng-model="photo" value="/public/default.png" />-->
<!--&lt;!&ndash;<input type="text" name="username" placeholder="Username" /><br />&ndash;&gt;-->
<!--&lt;!&ndash;<input type="text" name="full_name" placeholder="Full name" /><br /><br />&ndash;&gt;-->
<!--<input type="submit" value="Update profile" />-->
<!--</form>-->
<!--<script>-->
<!--(function() {-->
<!--document.getElementById("file_input").onchange = function(){-->
<!--var files = document.getElementById("file_input").files;-->
<!--var file = files[0];-->
<!--if(file == null){-->
<!--alert("No file selected.");-->
<!--}-->
<!--else{-->
<!--get_signed_request(file);-->
<!--}-->
<!--};-->
<!--})();-->
<!--function get_signed_request(file){-->
<!--var xhr = new XMLHttpRequest();-->
<!--xhr.open("GET", "/sign_s3?file_name="+file.name+"&file_type="+file.type);-->
<!--xhr.onreadystatechange = function(){-->
<!--if(xhr.readyState === 4){-->
<!--if(xhr.status === 200){-->
<!--var response = JSON.parse(xhr.responseText);-->
<!--upload_file(file, response.signed_request, response.url);-->
<!--}-->
<!--else{-->
<!--alert("Could not get signed URL.");-->
<!--}-->
<!--}-->
<!--};-->
<!--xhr.send();-->
<!--}-->
<!--function upload_file(file, signed_request, url){-->
<!--var xhr = new XMLHttpRequest();-->
<!--xhr.open("PUT", signed_request);-->
<!--xhr.setRequestHeader('x-amz-acl', 'public-read');-->
<!--xhr.onload = function() {-->
<!--if (xhr.status === 200) {-->
<!--document.getElementById("preview").src = url;-->
<!--document.getElementById("avatar_url").value = url;-->
<!--}-->
<!--};-->
<!--xhr.onerror = function() {-->
<!--alert("Could not upload file.");-->
<!--};-->
<!--xhr.send(file);-->
<!--}-->
<!--</script>-->
